# 三国志：地形策略版 (Sanguo Strategy: Terrain Edition)

## 项目简介

这是一款融合《怪谈事务所》机制与《三国杀》玩法的创新策略卡牌游戏，支持 2-6 人在线对战，特色为动态地形系统与随机武将联动机制。

## 核心特色

### 🎮 创新玩法
- **动态地形系统**：12回合制，支持地形放置、移动和交互
- **随机武将池**：强制随机选将，打破固有套路
- **历史羁绊触发**：特定武将组合激活隐藏技能
- **多角色控制**：每位玩家控制 2-n 个武将

### 🗺️ 地形机制
- **基础地形**：山地、平原、河流、森林等
- **事件地形**：祭坛、烽火台、血宴等特殊机制
- **地形联动**：武将技能与地形深度结合
- **动态生成**：根据队伍配置智能调整地形分布

### ⚔️ 战斗系统
- **三大职能**：输出/控制/辅助分类
- **地形共鸣**：全武将新增地形交互技能
- **合击技**：团队协作触发强力效果
- **动态平衡**：实时调整弱势方地形优势

### 🎯 游戏模式
- **快速匹配**：2-6人自动配对
- **自定义房间**：可选固定/随机地形包
- **多胜利条件**：击杀主公/地形占领/资源收集

## 技术架构

### 后端（Go）
```
server/
├── cmd/              # 主程序入口
├── internal/         # 内部业务逻辑
│   ├── game/        # 游戏核心逻辑
│   ├── room/        # 房间管理
│   ├── player/      # 玩家管理
│   ├── terrain/     # 地形系统
│   └── general/     # 武将系统
├── pkg/             # 公共包
│   ├── websocket/   # WebSocket 通信
│   ├── database/    # 数据库操作
│   └── protocol/    # 通信协议
└── config/          # 配置文件
```

### 前端（Unity）
```
client/
├── Assets/
│   ├── Scripts/     # C# 游戏脚本
│   ├── Prefabs/     # 预制体
│   ├── Scenes/      # 游戏场景
│   ├── Resources/   # 资源文件
│   └── UI/          # UI资源
```

### 数据库（MySQL）
- 玩家数据
- 武将配置
- 地形模板
- 战斗记录
- 排行榜

## 快速开始

### 服务器部署

#### 环境要求
- Go 1.21+
- MySQL 8.0+
- Redis 7+

#### 安装步骤
```bash
# 克隆项目
git clone <repository-url>
cd sgs

# 安装 Go 依赖
cd server
go mod download

# 配置数据库
cp config/config.example.yaml config/config.yaml
# 编辑 config.yaml 填入数据库信息

# 初始化数据库
go run cmd/migrate/main.go

# 启动服务器
go run cmd/server/main.go
```

### 客户端构建

#### 环境要求
- Unity 2021.3 LTS+
- .NET Framework 4.8+

#### 构建步骤
```bash
# 打开 Unity Hub
# 添加项目: client/
# 打开场景: Assets/Scenes/MainMenu.unity
# File -> Build Settings -> Build (选择 Windows/Mac/Linux)
```

## Steam 集成

### Steamworks SDK 配置
1. 在 [Steamworks Partner](https://partner.steamgames.com/) 注册应用
2. 下载 Steamworks SDK
3. 配置 `steam_appid.txt`
4. 集成 Steam 成就、云存档等功能

### 发布检查清单
- [ ] 游戏图标和宣传图
- [ ] Steam 商店页面内容
- [ ] 隐私政策和用户协议
- [ ] 年龄分级
- [ ] 多语言支持
- [ ] 云存档功能
- [ ] 成就系统
- [ ] 在线联机测试

## 游戏设计文档

详细的游戏设计方案请参考：`game_design_utf8.txt`

### 核心设计要点
1. **随机性与策略平衡**：强制随机避免套路，地形提供策略深度
2. **多层次互动**：武将-地形-羁绊三维联动
3. **快节奏体验**：单局15-20分钟，适合休闲玩家
4. **动态平衡系统**：自动调整弱势方优势，保证公平性

## 开发路线图

### Alpha 版本（当前）
- [x] 基础服务器框架
- [x] 核心数据模型
- [ ] 基础战斗逻辑
- [ ] 简单UI界面

### Beta 版本
- [ ] 完整武将系统（20+武将）
- [ ] 完整地形系统（15+地形）
- [ ] 匹配系统
- [ ] 好友系统

### 正式版本
- [ ] 50+武将
- [ ] 30+地形
- [ ] 排行榜
- [ ] 回放系统
- [ ] Steam 成就
- [ ] 皮肤商城

## 商业化设计

### 付费点
- **地形主题包**：如"赤壁火攻"、"五丈原星象"
- **武将皮肤**：特效皮肤与专属地形
- **地形编辑器**：玩家自定义内容
- **战令系统**：赛季奖励

### 免费内容
- 核心游戏玩法完全免费
- 基础武将和地形可通过游戏内货币解锁
- 公平竞技，无付费优势

## 贡献指南

欢迎提交 Issue 和 Pull Request！

### 开发规范
- Go 代码遵循 `gofmt` 格式
- 提交前运行测试：`go test ./...`
- 提交信息格式：`[模块] 简要说明`

## 许可证

本项目仅用于学习和演示目的。

## 联系方式

- 项目主页：[GitHub Repository]
- 邮箱：dev@sanguo-strategy.com
- Discord：[社区链接]

---

**注意**：本游戏是独立创作，与《三国杀》官方无关。所有三国历史人物均为公共领域内容。

